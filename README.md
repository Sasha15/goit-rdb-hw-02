## Опис етапів нормалізації

### `p0_initial_schema`
Початкова схема бази даних до нормалізації.  
Містить неатомарні атрибути (наприклад, назва товару разом із кількістю в одному полі), що порушує вимоги першої нормальної форми.

---

### `p2_split_product_name_and_quantity`
На цьому етапі розділяється неатомарний атрибут  
`product_name_and_product_quantity`  
на два окремих атрибути:

- `product_name`
- `product_quantity`

Це необхідно для приведення таблиці до **1НФ (першої нормальної форми)**, де кожне значення повинно бути атомарним.

Після розділення кожен товар у замовленні стає окремим рядком.  
Наприклад, замовлення №101, яке містило *3 ноутбуки і 2 мишки*, тепер представлено двома рядками:

- (101, "Laptop", 3, …)
- (101, "Mouse", 2, …)

У результаті **первинний ключ стає складеним**:  
`(order_id, product_name)`,  
а деякі атрибути (наприклад, дані клієнта) залежать лише від `order_id`, але не від `product_name`, що створює **часткову залежність** — ситуацію, яка порушує 2НФ.

---

### `p3_split_orders_and_product_details`
Щоб усунути часткові залежності та уникнути дублювання даних, таблиця розділяється на:

- **Orders** – інформація про замовлення  
- **Orders_Products** – список товарів у кожному замовленні

Створюється зв’язок **один-до-багатьох**:  
одне замовлення → багато записів у таблиці `orders_products`.

Це відповідає вимогам **2НФ**, оскільки всі неключові атрибути тепер залежать від цілого ключа, а не від його частини.

---

### `p4_move_user_to_separate_table`
Дані клієнта переносяться в окрему таблицю:

- `users`

Адреса розбивається на окремі атомарні поля (`city`, `country`, `zip_code`, `house_number` тощо), що відповідає **вимогам 1НФ** до нової таблиці.

У таблиці `orders` залишається тільки зовнішній ключ `user_id`.

Створюється зв’язок **один-до-багатьох**:  
один клієнт → багато замовлень.

Це також усуває **транзитивні залежності** (клієнт → адреса), тому крок відповідає **3НФ (третій нормальній формі)**.

---

### `p5_ready_ER_diagram`
Готова ER-діаграма, що відображає всі залежності між:

- `users`
- `orders`
- `orders_products`
- `products`

Таблиця `products` винесена окремо, щоб уникнути дублювання назв товарів та забезпечити правильний зв’язок:

- **один продукт → багато записів у orders_products**

---

### `p7_created_database`
На цьому етапі створюється кінцева нормалізована база даних відповідно до ER-діаграми.  
Включає всі таблиці, індекси та зовнішні ключі.